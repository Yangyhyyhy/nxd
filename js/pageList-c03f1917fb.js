function modelInit(){modelIndex.crumbs&&modelIndex.crumbs.length&&TV.structure(modelIndex.crumbs);var e=(new TV.CookieOpt).getOpt(),n=e&&"number"==typeof e.index?e.index:void 0,t=e&&e.page?e.page:1;getMessage(t,modelIndex.pageSize,"next",n)}cmsIndex.modules[cmsIndex.moduleGuid(cmsIndex.addModule())]={modName:"right",modNum:cmsIndex.moduleGuid(),map:{left:0}};var right=cmsIndex.modules[cmsIndex.moduleGuid()].module=function(){var a={modName:"pageList",modNum:cmsIndex.moduleGuid()},s=modelIndex.index,o=modelIndex.isLike,l=modelIndex.special?modelIndex.special:"",d=modelIndex.specialState,m="1",c=0,r=1,u=1,g=modelIndex.type,p=modelIndex.listName,x=modelIndex.pageSize,I=modelIndex.rowHeight,v=modelIndex.containerId;return a.toggleFocus=function(e){var n=a,t="";null!=e&&(s=e),console.log(s),0==c&&l&&(s=-2);var o=$("#"+v).children("."+p),d=$("#"+v).children(".cur");for(l&&((t=$("."+l)[0]).className=l),i=0;i<c;i++)o[i].className=p,d.length&&(d[i].className="cur");return console.log(s),s<-1&&l?t.className=t.className+" spActive":o.length&&("0"==m&&(d[s].className=d[s].className+" curActive"),o[s].className=o[s].className+" active"),n},a.initialization=function(){var e=a;return r=parseInt(document.getElementById("now_page").innerHTML),u=parseInt(document.getElementById("total_page").innerHTML),c=$("#"+v).children("."+p).length,e},a.moveOp=function(e){var n=a;if(console.log(d,r),"didi"==d&&s==c-1&&"down"==e)s=-2;else if("didi"==d&&-2==s&&0<c)"up"==e&&(s=c-1);else{var t=new TV.ListOperation({type:g,key:e,isLike:o,status:m,nowPage:r,totalPage:u,pageSize:x,length:c,index:s,rowHeight:I}).operation();console.log(t),s=t.index,m=t.status,""!=t.position&&getMessage(t.nowPage,x,t.position)}return a.toggleFocus(),n},a.action=function(e){var n=a;switch(e){case"back":history.go(-1);break;case"enter":if(isCache)new TV.CookieOpt({index:s,page:r}).setOpt();direEnter(s)}return n},a.grabEvent=function(e){var n=a,t=TV.GetKey(e);return t.keyState&&"enter"!=t.keyState&&"back"!=t.keyState?n.moveOp(t.keyState):n.action(t.keyState),t.isBlock},a}();$(window).unload(function(){modelIndex.isVideo&&mp&&mp.stop()}),cmsIndex.run();